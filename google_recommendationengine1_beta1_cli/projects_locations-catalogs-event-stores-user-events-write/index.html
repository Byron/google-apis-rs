<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Locations Catalogs Event Stores User Events Write - Recommendations AI v3.0.0+20220224</title>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script>

  <style>
    body {font-size: 90%;}
    pre, code {font-size: 100%;}
    h3, h4, h5, h6 {color: #2980b9; font-weight: 300}
  </style> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Recommendations AI v3.0.0+20220224</a>
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
      <ul class="current">
    
        
        <span>Projects</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../projects_locations-catalogs-catalog-items-create">Locations Catalogs Catalog Items Create</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../projects_locations-catalogs-catalog-items-delete">Locations Catalogs Catalog Items Delete</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../projects_locations-catalogs-catalog-items-get">Locations Catalogs Catalog Items Get</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../projects_locations-catalogs-catalog-items-import">Locations Catalogs Catalog Items Import</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../projects_locations-catalogs-catalog-items-list">Locations Catalogs Catalog Items List</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../projects_locations-catalogs-catalog-items-patch">Locations Catalogs Catalog Items Patch</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../projects_locations-catalogs-event-stores-operations-get">Locations Catalogs Event Stores Operations Get</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../projects_locations-catalogs-event-stores-operations-list">Locations Catalogs Event Stores Operations List</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../projects_locations-catalogs-event-stores-placements-predict">Locations Catalogs Event Stores Placements Predict</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../projects_locations-catalogs-event-stores-prediction-api-key-registrations-create">Locations Catalogs Event Stores Prediction Api Key Registrations Create</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../projects_locations-catalogs-event-stores-prediction-api-key-registrations-delete">Locations Catalogs Event Stores Prediction Api Key Registrations Delete</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../projects_locations-catalogs-event-stores-prediction-api-key-registrations-list">Locations Catalogs Event Stores Prediction Api Key Registrations List</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../projects_locations-catalogs-event-stores-user-events-collect">Locations Catalogs Event Stores User Events Collect</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../projects_locations-catalogs-event-stores-user-events-import">Locations Catalogs Event Stores User Events Import</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../projects_locations-catalogs-event-stores-user-events-list">Locations Catalogs Event Stores User Events List</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../projects_locations-catalogs-event-stores-user-events-purge">Locations Catalogs Event Stores User Events Purge</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../projects_locations-catalogs-event-stores-user-events-rejoin">Locations Catalogs Event Stores User Events Rejoin</a>
                    
                </li>
            
                <li class="toctree-l1 current">
                    <a class="current" href=".">Locations Catalogs Event Stores User Events Write</a>
                    
                        <ul>
                        
                            <li class="toctree-l2"><a href="#scopes">Scopes</a></li>
                            
                        
                            <li class="toctree-l2"><a href="#required-scalar-argument">Required Scalar Argument</a></li>
                            
                        
                            <li class="toctree-l2"><a href="#required-request-value">Required Request Value</a></li>
                            
                                <li><a class="toctree-l3" href="#about-cursors">About Cursors</a></li>
                            
                        
                            <li class="toctree-l2"><a href="#optional-output-flags">Optional Output Flags</a></li>
                            
                        
                            <li class="toctree-l2"><a href="#optional-general-properties">Optional General Properties</a></li>
                            
                        
                        </ul>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../projects_locations-catalogs-list">Locations Catalogs List</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../projects_locations-catalogs-operations-get">Locations Catalogs Operations Get</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../projects_locations-catalogs-operations-list">Locations Catalogs Operations List</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../projects_locations-catalogs-patch">Locations Catalogs Patch</a>
                    
                </li>
            
        

    
</ul>

      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href=".."></a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    <li>Locations Catalogs Event Stores User Events Write</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="https://github.com/Byron/google-apis-rs/tree/main/gen/recommendationengine1_beta1-cli" class="icon icon-github"> Edit on GitHub</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              <p>Writes a single user event.</p>
<h1 id="scopes">Scopes</h1>
<p>You will need authorization for the <em>https://www.googleapis.com/auth/cloud-platform</em> scope to make a valid call.</p>
<p>If unset, the scope for this method defaults to <em>https://www.googleapis.com/auth/cloud-platform</em>.
You can set the scope for this method like this: <code>recommendationengine1-beta1 --scope &lt;scope&gt; projects locations-catalogs-event-stores-user-events-write ...</code></p>
<h1 id="required-scalar-argument">Required Scalar Argument</h1>
<ul>
<li><strong>&lt;parent&gt;</strong> <em>(string)</em><ul>
<li>Required. The parent eventStore resource name, such as &#34;projects/1234/locations/global/catalogs/default_catalog/eventStores/default_event_store&#34;.</li>
</ul>
</li>
</ul>
<h1 id="required-request-value">Required Request Value</h1>
<p>The request value is a data-structure with various fields. Each field may be a simple scalar or another data-structure.
In the latter case it is advised to set the field-cursor to the data-structure's field to specify values more concisely.</p>
<p>For example, a structure like this:</p>
<pre><code>GoogleCloudRecommendationengineV1beta1UserEvent:
  event-detail:
    experiment-ids: [string]
    page-view-id: string
    recommendation-token: string
    referrer-uri: string
    uri: string
  event-source: string
  event-time: string
  event-type: string
  product-event-detail:
    cart-id: string
    list-id: string
    purchase-transaction:
      costs: { string: number }
      currency-code: string
      id: string
      revenue: number
      taxes: { string: number }
    search-query: string
  user-info:
    direct-user-request: boolean
    ip-address: string
    user-agent: string
    user-id: string
    visitor-id: string

</code></pre>

<p>can be set completely with the following arguments which are assumed to be executed in the given order. Note how the cursor position is adjusted to the respective structures, allowing simple field names to be used most of the time.</p>
<ul>
<li><code>-r .event-detail    experiment-ids=accusam</code><ul>
<li>Optional. A list of identifiers for the independent experiment groups this user event belongs to. This is used to distinguish between user events associated with different experiment setups (e.g. using Recommendation Engine system, using different recommendation models).</li>
<li>Each invocation of this argument appends the given value to the array.</li>
</ul>
</li>
<li><code>page-view-id=voluptua.</code><ul>
<li>Optional. A unique id of a web page view. This should be kept the same for all user events triggered from the same pageview. For example, an item detail page view could trigger multiple events as the user is browsing the page. The <code>pageViewId</code> property should be kept the same for all these events so that they can be grouped together properly. This <code>pageViewId</code> will be automatically generated if using the JavaScript pixel.</li>
</ul>
</li>
<li><code>recommendation-token=dolore</code><ul>
<li>Optional. Recommendation token included in the recommendation prediction response. This field enables accurate attribution of recommendation model performance. This token enables us to accurately attribute page view or purchase back to the event and the particular predict response containing this clicked/purchased item. If user clicks on product K in the recommendation results, pass the <code>PredictResponse.recommendationToken</code> property as a url parameter to product K&#39;s page. When recording events on product K&#39;s page, log the PredictResponse.recommendation_token to this field. Optional, but highly encouraged for user events that are the result of a recommendation prediction query.</li>
</ul>
</li>
<li><code>referrer-uri=dolore</code><ul>
<li>Optional. The referrer url of the current page. When using the JavaScript pixel, this value is filled in automatically.</li>
</ul>
</li>
<li>
<p><code>uri=dolore</code></p>
<ul>
<li>Optional. Complete url (window.location.href) of the user&#39;s current page. When using the JavaScript pixel, this value is filled in automatically. Maximum length 5KB.</li>
</ul>
</li>
<li>
<p><code>..    event-source=voluptua.</code></p>
<ul>
<li>Optional. This field should <em>not</em> be set when using JavaScript pixel or the Recommendations AI Tag. Defaults to <code>EVENT_SOURCE_UNSPECIFIED</code>.</li>
</ul>
</li>
<li><code>event-time=amet.</code><ul>
<li>Optional. Only required for ImportUserEvents method. Timestamp of user event created.</li>
</ul>
</li>
<li><code>event-type=ea</code><ul>
<li>Required. User event type. Allowed values are: * <code>add-to-cart</code> Products being added to cart. * <code>add-to-list</code> Items being added to a list (shopping list, favorites etc). * <code>category-page-view</code> Special pages such as sale or promotion pages viewed. * <code>checkout-start</code> User starting a checkout process. * <code>detail-page-view</code> Products detail page viewed. * <code>home-page-view</code> Homepage viewed. * <code>page-visit</code> Generic page visits not included in the event types above. * <code>purchase-complete</code> User finishing a purchase. * <code>refund</code> Purchased items being refunded or returned. * <code>remove-from-cart</code> Products being removed from cart. * <code>remove-from-list</code> Items being removed from a list. * <code>search</code> Product search. * <code>shopping-cart-page-view</code> User viewing a shopping cart. * <code>impression</code> List of items displayed. Used by Google Tag Manager.</li>
</ul>
</li>
<li><code>product-event-detail    cart-id=sadipscing</code><ul>
<li>Optional. The id or name of the associated shopping cart. This id is used to associate multiple items added or present in the cart before purchase. This can only be set for <code>add-to-cart</code>, <code>remove-from-cart</code>, <code>checkout-start</code>, <code>purchase-complete</code>, or <code>shopping-cart-page-view</code> events.</li>
</ul>
</li>
<li><code>list-id=lorem</code><ul>
<li>Required for <code>add-to-list</code> and <code>remove-from-list</code> events. The id or name of the list that the item is being added to or removed from. Other event types should not set this field.</li>
</ul>
</li>
<li><code>purchase-transaction    costs=key=0.4946595631810975</code><ul>
<li>Optional. All the costs associated with the product. These can be manufacturing costs, shipping expenses not borne by the end user, or any other costs. Total product cost such that profit = revenue - (sum(taxes) + sum(costs)) If product_cost is not set, then profit = revenue - tax - shipping - sum(CatalogItem.costs). If CatalogItem.cost is not specified for one of the items, CatalogItem.cost based profit <em>cannot</em> be calculated for this Transaction.</li>
<li>the value will be associated with the given <code>key</code></li>
</ul>
</li>
<li><code>currency-code=est</code><ul>
<li>Required. Currency code. Use three-character ISO-4217 code. This field is not required if the event type is <code>refund</code>.</li>
</ul>
</li>
<li><code>id=at</code><ul>
<li>Optional. The transaction ID with a length limit of 128 bytes.</li>
</ul>
</li>
<li><code>revenue=0.4551855025693473</code><ul>
<li>Required. Total revenue or grand total associated with the transaction. This value include shipping, tax, or other adjustments to total revenue that you want to include as part of your revenue calculations. This field is not required if the event type is <code>refund</code>.</li>
</ul>
</li>
<li>
<p><code>taxes=key=0.8987894283575105</code></p>
<ul>
<li>Optional. All the taxes associated with the transaction.</li>
<li>the value will be associated with the given <code>key</code></li>
</ul>
</li>
<li>
<p><code>..    search-query=et</code></p>
<ul>
<li>At least one of search_query or page_categories is required for <code>search</code> events. Other event types should not set this field. The user&#39;s search query as UTF-8 encoded text with a length limit of 5 KiB.</li>
</ul>
</li>
<li>
<p><code>..user-info    direct-user-request=true</code></p>
<ul>
<li>Optional. Indicates if the request is made directly from the end user in which case the user_agent and ip_address fields can be populated from the HTTP request. This should <em>not</em> be set when using the javascript pixel. This flag should be set only if the API request is made directly from the end user such as a mobile app (and not if a gateway or a server is processing and pushing the user events).</li>
</ul>
</li>
<li><code>ip-address=aliquyam</code><ul>
<li>Optional. IP address of the user. This could be either IPv4 (e.g. 104.133.9.80) or IPv6 (e.g. 2001:0db8:85a3:0000:0000:8a2e:0370:7334). This should <em>not</em> be set when using the javascript pixel or if <code>direct_user_request</code> is set. Used to extract location information for personalization.</li>
</ul>
</li>
<li><code>user-agent=ipsum</code><ul>
<li>Optional. User agent as included in the HTTP header. UTF-8 encoded string with a length limit of 1 KiB. This should <em>not</em> be set when using the JavaScript pixel or if <code>directUserRequest</code> is set.</li>
</ul>
</li>
<li><code>user-id=et</code><ul>
<li>Optional. Unique identifier for logged-in user with a length limit of 128 bytes. Required only for logged-in users.</li>
</ul>
</li>
<li><code>visitor-id=sanctus</code><ul>
<li>Required. A unique identifier for tracking visitors with a length limit of 128 bytes. For example, this could be implemented with an HTTP cookie, which should be able to uniquely identify a visitor on a single device. This unique identifier should not change if the visitor logs in or out of the website. Maximum length 128 bytes. Cannot be empty.</li>
</ul>
</li>
</ul>
<h3 id="about-cursors">About Cursors</h3>
<p>The cursor position is key to comfortably set complex nested structures. The following rules apply:</p>
<ul>
<li>The cursor position is always set relative to the current one, unless the field name starts with the <code>.</code> character. Fields can be nested such as in <code>-r f.s.o</code> .</li>
<li>The cursor position is set relative to the top-level structure if it starts with <code>.</code>, e.g. <code>-r .s.s</code></li>
<li>You can also set nested fields without setting the cursor explicitly. For example, to set a value relative to the current cursor position, you would specify <code>-r struct.sub_struct=bar</code>.</li>
<li>You can move the cursor one level up by using <code>..</code>. Each additional <code>.</code> moves it up one additional level. E.g. <code>...</code> would go three levels up.</li>
</ul>
<h1 id="optional-output-flags">Optional Output Flags</h1>
<p>The method's return value a JSON encoded structure, which will be written to standard output by default.</p>
<ul>
<li><strong>-o out</strong><ul>
<li><em>out</em> specifies the <em>destination</em> to which to write the server's result to.
  It will be a JSON-encoded structure.
  The <em>destination</em> may be <code>-</code> to indicate standard output, or a filepath that is to contain the received bytes.
  If unset, it defaults to standard output.</li>
</ul>
</li>
</ul>
<h1 id="optional-general-properties">Optional General Properties</h1>
<p>The following properties can configure any call, and are not specific to this method.</p>
<ul>
<li>
<p><strong>-p $-xgafv=string</strong></p>
<ul>
<li>V1 error format.</li>
</ul>
</li>
<li>
<p><strong>-p access-token=string</strong></p>
<ul>
<li>OAuth access token.</li>
</ul>
</li>
<li>
<p><strong>-p alt=string</strong></p>
<ul>
<li>Data format for response.</li>
</ul>
</li>
<li>
<p><strong>-p callback=string</strong></p>
<ul>
<li>JSONP</li>
</ul>
</li>
<li>
<p><strong>-p fields=string</strong></p>
<ul>
<li>Selector specifying which fields to include in a partial response.</li>
</ul>
</li>
<li>
<p><strong>-p key=string</strong></p>
<ul>
<li>API key. Your API key identifies your project and provides you with API access, quota, and reports. Required unless you provide an OAuth 2.0 token.</li>
</ul>
</li>
<li>
<p><strong>-p oauth-token=string</strong></p>
<ul>
<li>OAuth 2.0 token for the current user.</li>
</ul>
</li>
<li>
<p><strong>-p pretty-print=boolean</strong></p>
<ul>
<li>Returns response with indentations and line breaks.</li>
</ul>
</li>
<li>
<p><strong>-p quota-user=string</strong></p>
<ul>
<li>Available to use for quota purposes for server-side applications. Can be any arbitrary string assigned to a user, but should not exceed 40 characters.</li>
</ul>
</li>
<li>
<p><strong>-p upload-type=string</strong></p>
<ul>
<li>Legacy upload protocol for media (e.g. &#34;media&#34;, &#34;multipart&#34;).</li>
</ul>
</li>
<li>
<p><strong>-p upload-protocol=string</strong></p>
<ul>
<li>Upload protocol for media (e.g. &#34;raw&#34;, &#34;multipart&#34;).</li>
</ul>
</li>
</ul>

            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../projects_locations-catalogs-list" class="btn btn-neutral float-right" title="Locations Catalogs List"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../projects_locations-catalogs-event-stores-user-events-rejoin" class="btn btn-neutral" title="Locations Catalogs Event Stores User Events Rejoin"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    <!-- Copyright etc -->
    </p>
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a>, using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
        
            <a class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
        
      <span><a href="../projects_locations-catalogs-event-stores-user-events-rejoin" style="color: #fcfcfc;">&laquo; Previous</a></span>
      <span style="margin-left: 15px"><a href="../projects_locations-catalogs-list" style="color: #fcfcfc">Next &raquo;</a></span>
    </span>
</div>
</body>
</html>